<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>계좌 생성</title>
</head>
<body>
<h2>새 계좌 만들기</h2>

<form id="accountForm">
  <label>고객 이름 :</label><br>
  <input type="text" id="customerName" required><br><br>

  <label>고객 주민번호(SSN) :</label><br>
  <input type="text" id="customerSsn" required><br><br>

  <label>계좌 종류 :</label><br>
  <select id="accountType">
    <option value="적금">적금</option>
    <option value="입출금">입출금</option>
  </select><br><br>

  <button type="button" onclick="submitForm()">계좌 생성</button>
</form>

<hr>

<div id="result"></div>

<script>
    function submitForm() {
        const name = document.getElementById("customerName").value;
        const ssn = document.getElementById("customerSsn").value;
        const type = document.getElementById("accountType").value;;

        fetch("/account/create?customerSsn=" + ssn + "&customerName=" + name + "&accountType=" + type, {
            method: "POST"
        })
            .then(res => res.json())
            .then(data => {
                document.getElementById("result").innerHTML =
                    "<h3>계좌 생성 완료!</h3>" +
                    "<p>계좌 ID: " + data.accountId + "</p>" +
                    "<p>계좌 종류: " + data.accountType + "</p>" +
                    "<p>고객 이름: " + data.customer.customerName + "</p>" +
                    "<p>고객 SSN: " + data.customer.customerSsn + "</p>";
            })
            .catch(err => {
                alert("오류 발생: " + err);
            });
    }
</script>
</body>
</html>
