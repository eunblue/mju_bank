<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>ëª…ì§€ì€í–‰ - ì¹´ë“œ ë°œê¸‰ ì‹ ì²­</title>
    <style>
        /* í°íŠ¸ ë° ê¸°ë³¸ ì„¤ì • */
        body { 
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', Arial, sans-serif; 
            max-width: 1000px; 
            margin: auto; 
            padding: 0; 
            background-color: #f4f7f6; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
            color: #333;
        }
        
        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        #header {
            background-color: #004d99; /* ì§„í•œ íŒŒë€ìƒ‰ */
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            border-bottom: 5px solid #002c5f;
            margin-bottom: 30px;
        }

        #bankLogo {
            height: 40px;
            margin-right: 15px;
        }

        #bankName {
            font-size: 24px;
            font-weight: bold;
        }

        /* ì„¹ì…˜/ë³¸ë¬¸ ìŠ¤íƒ€ì¼ */
        h2 { 
            color: #004d99; /* ì€í–‰ ë©”ì¸ ì»¬ëŸ¬ */
            border-left: 5px solid #004d99;
            padding-left: 10px;
            margin-bottom: 20px;
        }
        
        .section { 
            margin: 20px; 
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        
        /* í¼ ìš”ì†Œ ìŠ¤íƒ€ì¼ */
        label { 
            display: block; 
            margin-top: 15px; /* ê¸°ì¡´ 12px -> 15px */
            font-weight: bold; 
            color: #555;
            font-size: 14px;
        }
        
        input, select { 
            width: 100%; 
            padding: 10px; /* ê¸°ì¡´ 8px -> 10px */
            margin-top: 6px; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
            box-sizing: border-box; 
            font-size: 16px;
        }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        button { 
            cursor: pointer; 
            background-color: #0099cc; /* ë°ì€ íŒŒë€ìƒ‰ */
            color: white; 
            border: none; 
            padding: 10px 20px; /* ê¸°ì¡´ 8px 16px -> 10px 20px */
            border-radius: 5px;
            margin-top: 20px; /* ê¸°ì¡´ 12px -> 20px */
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover { 
            background-color: #007399; 
        }

        /* ê²°ê³¼ í‘œì‹œ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .result { 
            margin-top: 20px; 
            padding: 15px; /* ê¸°ì¡´ 12px -> 15px */
            border-radius: 8px; /* ê¸°ì¡´ 6px -> 8px */
            background: #f0f8ff; /* ì—°í•œ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
            border: 1px solid #0099cc; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ë³€ê²½ */
        }

        .result table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 15px; 
        }

        .result th, .result td { 
            border: 1px solid #ddd; /* ê¸°ì¡´ #ccc -> #ddd */
            padding: 10px; /* ê¸°ì¡´ 8px -> 10px */
            text-align: left; 
        }

        .result th { 
            background-color: #e6f7ff; /* ì—°í•œ íŒŒë€ìƒ‰ í—¤ë” ë°°ê²½ */
            color: #333;
            font-weight: bold;
        }
        
        .success { 
            color: #004d99; /* ì€í–‰ ë©”ì¸ ì»¬ëŸ¬ */
            font-weight: bold; 
            margin-bottom: 10px; 
        }
        
        .error { 
            color: #dc3545; 
            font-weight: bold; 
            margin-bottom: 10px; 
        }
    </style>
</head>
<body>

<div id="header">
    <img id="bankLogo" alt="ëª…ì§€ì€í–‰ ë¡œê³ ">
    <span id="bankName">ëª…ì§€ì€í–‰ - ì¹´ë“œ ë°œê¸‰ ì‹ ì²­</span>
</div>

<div class="section">
    <h2>ì¹´ë“œ ë°œê¸‰ ğŸ’³</h2>

    <form id="cardForm">
        <label for="customerSsn">ê³ ê° SSN:</label>
        <input type="text" id="customerSsn" required>

        <label for="customerName">ê³ ê° ì´ë¦„:</label>
        <input type="text" id="customerName" required>

        <label for="accountId">ì—°ê²° ê³„ì¢Œ ID:</label>
        <input type="number" id="accountId" required>

        <label for="cardType">ì¹´ë“œ ì¢…ë¥˜:</label>
        <select id="cardType">
            <option value="ì‹ ìš©">ì‹ ìš©ì¹´ë“œ</option>
            <option value="ì²´í¬">ì²´í¬ì¹´ë“œ</option>
        </select>

        <button type="button" onclick="submitForm()">ì¹´ë“œ ë°œê¸‰</button>
    </form>

    <div id="cardResult" class="result"></div>
</div>

<script>
// --- ë¡œê³  ì´ë¯¸ì§€ ì„¤ì • (JavaScript) ---
// ì‹¤ì œ í”„ë¡œì íŠ¸ì— 'symbol02.png' íŒŒì¼ì´ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤.
document.addEventListener('DOMContentLoaded', function() {
    const logoElement = document.getElementById('bankLogo');
    // ë¡œê³  ì´ë¯¸ì§€ ê²½ë¡œëŠ” ì‚¬ìš©ì í™˜ê²½ì— ë§ê²Œ ì¡°ì •í•˜ì„¸ìš”.
    // í˜„ì¬ ì½”ë“œì—ì„œëŠ” ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë¯€ë¡œ, ë¡œë”©ì— ì‹¤íŒ¨í•  ìˆ˜ ìˆì§€ë§Œ, ìŠ¤íƒ€ì¼ì„ ìœ„í•´ ìœ ì§€í•©ë‹ˆë‹¤.
    logoElement.src = 'symbol02.png'; 
});

function submitForm() {
    const formData = new URLSearchParams();
    formData.append("customerSsn", document.getElementById("customerSsn").value);
    formData.append("customerName", document.getElementById("customerName").value);
    formData.append("accountId", document.getElementById("accountId").value);
    formData.append("cardType", document.getElementById("cardType").value);

    fetch("/card/issue", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: formData.toString()
    })
    .then(res => {
        if (!res.ok) throw new Error("ì„œë²„ ì˜¤ë¥˜ ë°œìƒ");
        return res.json();
    })
    .then(card => {
        const resultDiv = document.getElementById("cardResult");
        resultDiv.innerHTML = `
            <div class="success">ì¹´ë“œ ë°œê¸‰ ì„±ê³µ!</div>
            <table>
                <tr><th>ì¹´ë“œ ID</th><td>${card.cardId}</td></tr>
                <tr><th>ê³ ê° ì´ë¦„</th><td>${card.customer.customerName}</td></tr>
                <tr><th>ê³ ê° SSN</th><td>${card.customer.customerSsn}</td></tr>
                <tr><th>ì—°ê²° ê³„ì¢Œ ID</th><td>${card.account.accountId}</td></tr>
                <tr><th>ì¹´ë“œ ì¢…ë¥˜</th><td>${card.cardType}</td></tr>
                <tr><th>ë°œê¸‰ì¼</th><td>${card.issueDate}</td></tr>
                <tr><th>í•œë„</th><td>${card.limitAmount}</td></tr>
                <tr><th>ê²°ì œì¼</th><td>${card.paymentDate}</td></tr>
            </table>
        `;
    })
    .catch(err => {
        document.getElementById("cardResult").innerHTML = `<div class="error">ì¹´ë“œ ë°œê¸‰ ì‹¤íŒ¨: ${err.message}</div>`;
    });
}
</script>
</body>
</html>
